<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>재고 관리 - 무인상점</title>

  <!-- 구글 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap"
    rel="stylesheet" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet" />
  <!-- Bootstrap -->
  <link href="bootstrap-4.6.2-dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- 공통 스타일 -->
  <link href="CSS/common.css" rel="stylesheet" />
  <!-- 대시보드 스타일 -->
  <link href="CSS/Dashboard.css" rel="stylesheet" />
  <!-- 재고 관리 전용 스타일 -->
  <link href="CSS/Inventory.css" rel="stylesheet" />
</head>

<body>
  <!-- 사이드바 -->
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-brand">
      <i class="fas fa-store"></i>
      <h2>무인 매장 관리</h2>
    </div>
    <nav>
      <a href="index.html" class="nav-link"><i class="fas fa-home"></i>대시보드</a>
      <a href="products.html" class="nav-link"><i class="fas fa-boxes"></i>상품 관리</a>
      <a href="orders.html" class="nav-link"><i class="fas fa-shopping-cart"></i>주문 관리</a>
      <a href="inventory.html" class="nav-link active"><i class="fas fa-warehouse"></i>재고 관리</a>
      <a href="sales.html" class="nav-link"><i class="fas fa-chart-line"></i>매출 분석</a>
      <a href="customers.html" class="nav-link"><i class="fas fa-users"></i>고객 관리</a>
      <a href="settings.html" class="nav-link"><i class="fas fa-cog"></i>설정</a>
    </nav>
  </aside>

  <!-- 메인 컨테이너 -->
  <div class="main-container">
    <!-- 헤더 -->
    <header class="header d-flex justify-content-between align-items-center">
      <button id="mobileMenuBtn" class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
      <h1 class="header-title">재고 관리</h1>
      <div class="user-info">
        <button class="notification-btn">
          <i class="fas fa-bell"></i><span class="notification-badge">3</span>
        </button>
        <span>관리자님</span>
      </div>
    </header>

    <!-- 본문 -->
    <main class="main-content container-fluid py-4">
      <!-- KPI 카드 -->
      <section class="kpi-section row g-4 mb-4">
        <div class="col-md-6">
          <div class="kpi-card">
            <p class="kpi-title">재고 부족 상품</p>
            <h3 class="kpi-value" id="lowStockCount">0건</h3>
            <div class="kpi-icon warning"><i class="fas fa-exclamation-triangle"></i></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="kpi-card">
            <p class="kpi-title">품절 상품</p>
            <h3 class="kpi-value" id="outStockCount">0건</h3>
            <div class="kpi-icon danger"><i class="fas fa-times-circle"></i></div>
          </div>
        </div>
      </section>

      <!-- 차트 섹션 -->
      <section class="charts-section row g-4 mb-4">
        <div class="col-lg-6">
          <div class="chart-card">
            <h3 class="chart-title">카테고리별 재고</h3>
            <canvas id="categoryChart"></canvas>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="chart-card">
            <h3 class="chart-title">재고 상태</h3>
            <canvas id="statusChart"></canvas>
          </div>
        </div>
      </section>

      <!-- 재고 현황 테이블 -->
      <section class="tables-section mb-5">
        <div class="controls mb-3">
          <div class="search-box">
            <i class="fas fa-search search-icon"></i>
            <input id="invSearchInput" type="text" class="form-control" placeholder="상품명 또는 코드 검색…" />
          </div>
          <select id="invCategoryFilter" class="form-select filter-select">
            <option value="전체">모든 카테고리</option>
            <option value="도시락">도시락</option>
            <option value="음료류">음료류</option>
            <option value="과자류">과자류</option>
            <option value="생활용품">생활용품</option>
            <option value="기타">기타</option>
          </select>
          <select id="invStateFilter" class="form-select filter-select">
            <option value="전체">모든 재고 상태</option>
            <option value="충분">충분</option>
            <option value="부족">부족</option>
            <option value="품절">품절</option>
          </select>
        </div>
        <div class="table-responsive">
          <table class="table custom-table">
            <thead>
              <tr>
                <th>상품코드</th>
                <th>상품명</th>
                <th>카테고리</th>
                <th>재고</th>
                <th>발주 기준</th>
                <th>관리</th>
              </tr>
            </thead>
            <tbody id="inventoryTable">
              <!-- JS로 동적 생성 -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- 최근 입출고 내역 -->
      <section class="tables-section">
        <div class="table-card">
          <div class="table-header">
            <h3 class="table-title">최근 입출고 내역</h3>
            <button class="view-all-btn" disabled>–</button>
          </div>
          <div class="table-responsive">
            <table class="custom-table">
              <thead>
                <tr>
                  <th>일시</th>
                  <th>상품명</th>
                  <th>유형</th>
                  <th>수량</th>
                  <th>비고</th>
                </tr>
              </thead>
              <tbody id="transactionsTable">
                <!-- JS로 동적 생성 -->
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- 스크립트 -->
  <script src="Chart/chart.umd.js"></script>
  <script src="bootstrap-4.6.2-dist/js/bootstrap.bundle.min.js"></script>
  <script src="JS/common.js"></script>
  <script src="JS/Inventory.js"></script>
</body>

</html>